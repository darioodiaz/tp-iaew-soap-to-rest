<div class="container-fluid">

  <div class="row" style="margin-bottom:20px; margin-top:20px;">
    <div class="col col-auto">
      <h3>CONSULTAR AUTOMÓVILES</h3>
    </div>
    <div class="col" style="margin-top:5px;">
      <p>Criterios de búsqueda</p>
    </div>
  </div>

  <div class="card">
    <div class="card-block">
      <div>

          <div class="form-group">
            <label for="cmb_pais">País</label>
            <select class="form-control" id="cmb_pais" (change)="obtenerCiudades($event.target.value)"  [(ngModel)]="consulta.paisId">
              <option selected value="">Seleccione</option>
              <option *ngFor="let pais of paises" [value]="pais.Id" >{{pais.Nombre}}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="cmb_ciudad">Ciudad</label>
            <select class="form-control" id="cmb_ciudad" [(ngModel)]="consulta.ciudadId" [disabled]="ciudades.length == 0">
              <option value="">Seleccione</option>
              <option *ngFor="let ciudad of ciudades" [value]="ciudad.Id" >{{ciudad.Nombre}}</option>
            </select>
          </div>
      

        <div class="row">
          <div class="form-group col-6">
            <label>Fecha desde</label>
            <input class="form-control" placeholder="yyyy-mm-dd"
             [(ngModel)]="consulta.fecha_retiro"
              ngbDatepicker #d_desde="ngbDatepicker" (click)="d_desde.toggle()">
          </div>
          <div class="form-group col-6">
            <label>Fecha hasta</label>
            <input class="form-control" placeholder="yyyy-mm-dd"
            [(ngModel)]="consulta.fecha_devolucion" ngbDatepicker #d_hasta="ngbDatepicker"
            (click)="d_hasta.toggle()">
          </div>
        </div>
        <div class="form-group">
          <div class="text-right" style="margin-top:30px;">
            <button type="button" (click)="consultar()" class="btn pull-right btn-primary">Buscar</button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row" *ngIf="resultados.length == 0" style="margin-top:40px;">
    <div class="col">
      <h5>Sin resultados para mostrar</h5>
    </div>
  </div>

  <table class="table" *ngIf="resultados.length > 0" style="margin-top:40px;">
    <thead>
      <th>#</th>
      <th>Marca</th>
      <th>Modelo</th>
      <th>Precio diario</th>
    </thead>
    <tbody>
      <tr *ngFor="let auto of resultados; let i=index">
        <td>{{i}}</td>
        <td>{{auto.Marca}}</td>
        <td>{{auto.Modelo}}</td>
        <td>{{auto.PrecioPorDia}}</td>
      </tr>
    </tbody>
  </table>

</div>
